<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // Переведите текст вида border-left-width в borderLeftWidth
      function camelize(str) {
        return str
          .split("-")
          .map((word, index) =>
            index == 0 ? word : word[0].toUpperCase() + word.slice(1)
          )
          .join("");
      }

      // Фильтрация по диапазону
      function filterRange(arr, a, b) {
        return arr.filter((item) => a <= item && item <= b);
      }

      let arr = [5, 3, 8, 1];

      let filtered = filterRange(arr, 1, 4);

      alert(filtered);

      alert(arr);

      // Фильтрация по диапазону "на месте"
      function filterRangeInPlace(arr, a, b) {
        for (let i = 0; i < arr.length; i++) {
          let val = arr[i];

          if (val < a || val > b) {
            arr.splice(i, 1);
            i--;
          }
        }
      }

      let array = [5, 3, 8, 1];

      filterRangeInPlace(array, 1, 4);

      alert(array);

      // Сортировать в порядке по убыванию
      let arr1 = [5, 2, 1, -10, 8];

      arr1.sort((a, b) => b - a);

      alert(arr1);

      // Скопировать и отсортировать массив
      function copySorted(arr) {
        return arr.slice().sort();
      }

      let arr2 = ["HTML", "JavaScript", "CSS"];

      let sorted = copySorted(arr2);

      alert(sorted);
      alert(arr2);

      // Создать расширяемый калькулятор
      function Calculator() {
        this.methods = {
          "-": (a, b) => a - b,
          "+": (a, b) => a + b,
        };

        this.calculate = function (str) {
          let split = str.split(" "),
            a = +split[0],
            op = split[1],
            b = +split[2];

          if (!this.methods[op] || isNaN(a) || isNaN(b)) {
            return NaN;
          }

          return this.methods[op](a, b);
        };

        this.addMethod = function (name, func) {
          this.methods[name] = func;
        };
      }

      // Трансформировать в массив имён
      let vasya = { name: "Вася", age: 25 };
      let petya = { name: "Петя", age: 30 };
      let masha = { name: "Маша", age: 28 };

      let users = [vasya, petya, masha];

      let names = users.map((item) => item.name);

      alert(names);

      // Трансформировать в объекты
      let vasya2 = { name: "Вася", surname: "Пупкин", id: 1 };
      let petya2 = { name: "Петя", surname: "Иванов", id: 2 };
      let masha2 = { name: "Маша", surname: "Петрова", id: 3 };

      let users2 = [vasya2, petya2, masha2];

      let usersMapped = users2.map((user) => ({
        fullName: `${user.name} ${user.surname}`,
        id: user.id,
      }));

      /*
      usersMapped = [
        { fullName: "Вася Пупкин", id: 1 },
        { fullName: "Петя Иванов", id: 2 },
        { fullName: "Маша Петрова", id: 3 }
      ]
      */

      alert(usersMapped[0].id);
      alert(usersMapped[0].fullName);

      // Отсортировать пользователей по возрасту
      function sortByAge(arr) {
        arr.sort((a, b) => (a.age > b.age ? 1 : -1));
      }

      let vasya3 = { name: "Вася", age: 25 };
      let petya3 = { name: "Петя", age: 30 };
      let masha3 = { name: "Маша", age: 28 };

      let arr3 = [vasya3, petya3, masha3];

      sortByAge(arr3);

      alert(arr3[0].name);
      alert(arr3[1].name);
      alert(arr3[2].name);

      // Перемешайте массив
      function shuffle(array) {
        array.sort(() => Math.random() - 0.5);
      }

      let arr4 = [1, 2, 3];
      shuffle(arr4);
      alert(arr4);

      // Получить средний возраст
      function getAverageAge(users) {
        return users.reduce((prev, user) => prev + user.age, 0) / users.length;
      }

      let vasya5 = { name: "Вася", age: 25 };
      let petya5 = { name: "Петя", age: 30 };
      let masha5 = { name: "Маша", age: 29 };

      let arr5 = [vasya5, petya5, masha5];

      alert(getAverageAge(arr5));

      // Оставить уникальные элементы массива
      function unique(arr) {
        let result = [];

        for (let str of arr) {
          if (!result.includes(str)) {
            result.push(str);
          }
        }

        return result;
      }

      let strings = [
        "кришна",
        "кришна",
        "харе",
        "харе",
        "харе",
        "харе",
        "кришна",
        "кришна",
        ":-O",
      ];

      alert(unique(strings));

      // Создайте объект с ключами из массива
      function groupById(array) {
        return array.reduce((obj, value) => {
          obj[value.id] = value;
          return obj;
        }, {});
      }
    </script>
  </body>
</html>
